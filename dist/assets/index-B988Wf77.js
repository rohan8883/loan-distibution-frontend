import{j as s,H as E,g as T}from"./index-Ckpgczvk.js";import{d as U,r as C,u as R}from"./router-Bu5b4_LN.js";import{h as M}from"./moment-BjLXg0w5.js";import{a as _,P as B}from"./index-DBoQfh-a.js";import{C as H}from"./card-BXWGEJ-w.js";import{L as q,P as F}from"./index-8d7qnEGm.js";import{E as G}from"./eye-DjvEq7pQ.js";import{P as I}from"./pencil-Ce-mzsbO.js";import"./axios-DmypytPv.js";import"./select-C4NWgVNz.js";function te(){var c,d,u,h,f,g,p,j,b,N,A,P,v,L,y,D,$,Y;const l=U(),[i,S]=C.useState(1),[r,k]=C.useState(10),z=R(),t=new URLSearchParams(z.search).get("paymentstatus")??"",a=t=="0"?"0":"",o=_({api:`${T.amountList}?page=${i}&limit=${r}&paidstatus=${a}`,key:"paymentListAmount",value:[i,r,a],options:{enabled:!0}}),x=()=>{var e,m;return(m=(e=o.data)==null?void 0:e.data.docs)==null?void 0:m.filter(n=>t=="0"?n.amount-n.paidAmount>0:t=="1"?n.paidAmount>0:t=="2"?n.dueAmount>0:n)};return s.jsx(B,{title:"Transaction List",children:s.jsxs(q,{isLoading:o.isLoading,dataLength:(c=x())==null?void 0:c.length,children:[s.jsx("div",{className:"flex justify-between items-center  mt-2 mb-2",children:s.jsxs("h1",{className:`text-sm font-semibold 
          ${t=="0"&&"text-red-700"}
          ${t=="1"&&"text-green-700"}
          ${t=="2"&&"text-blue-700"}
          
            `,children:["Total Amount-:"," ",t=="0"&&((h=(u=(d=o.data)==null?void 0:d.data)==null?void 0:u.totalAmt)==null?void 0:h.totalUnpaidAmount)||t=="1"&&((p=(g=(f=o.data)==null?void 0:f.data)==null?void 0:g.totalAmt)==null?void 0:p.totalPaidAmount)||t=="2"&&((N=(b=(j=o.data)==null?void 0:j.data)==null?void 0:b.totalAmt)==null?void 0:N.totalDueAmount)||t==""&&((v=(P=(A=o.data)==null?void 0:A.data)==null?void 0:P.totalAmt)==null?void 0:v.totalAmount)]})}),s.jsx("div",{className:"grid grid-cols-1 gap-3",children:(L=x())==null?void 0:L.map((e,m)=>{var n,w;return s.jsx(H,{className:" shadow-none rounded-2xl bg-secondary",children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-base font-semibold text-foreground",children:["Name-: ",e.member.memberName]}),s.jsxs("small",{className:"text-xs font-semibold text-muted-foreground",children:["Email-: ",(n=e==null?void 0:e.member)==null?void 0:n.email]}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-xs font-semibold text-muted-foreground",children:["Mobile-: ",(w=e==null?void 0:e.member)==null?void 0:w.mobile]}),s.jsxs("h1",{className:"text-xs font-semibold text-muted-foreground",children:["Plan-: ",e.member.planName]})]}),s.jsx("div",{children:t=="0"&&s.jsxs("h1",{className:"text-xs font-semibold text-muted-foreground",children:["Unpaid Amount-: ",(e==null?void 0:e.amount)-(e==null?void 0:e.paidAmount)]})||t=="1"&&s.jsxs("h1",{className:"text-xs font-semibold text-muted-foreground",children:["Paid Amount-: ",e==null?void 0:e.paidAmount]})||t=="2"&&s.jsxs("h1",{className:"text-xs font-semibold text-muted-foreground",children:["Due Amount-: ",e==null?void 0:e.dueAmount]})||t==""&&s.jsxs("h1",{className:"text-xs font-semibold text-muted-foreground",children:["Total Amount-: ",e==null?void 0:e.amount]})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-xs font-semibold text-muted-foreground",children:["Start date-:"," ",M(e.startDate).format("DD-MM-YYYY")]}),s.jsxs("h1",{className:"text-xs font-semibold text-muted-foreground",children:["End date-: ",M(e.endDate).format("DD-MM-YYYY")]})]})]})}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("div",{children:s.jsx(E,{size:"sm",className:"bg-blue-100 text-white rounded-xl",onClick:()=>l(`/gym-app/view-member/${e==null?void 0:e.member._id}`),children:s.jsx(G,{size:15,className:"text-blue-600"})})}),s.jsx("div",{children:s.jsx(E,{size:"sm",className:"bg-green-100 text-white rounded-xl",onClick:()=>l(`/gym-app/update-member/${e==null?void 0:e.member._id}`),children:s.jsx(I,{size:15,className:"text-green-600"})})})]})]})})},m+1)})}),s.jsx("div",{className:"flex justify-end mt-3",children:s.jsx(F,{page:i,perPage:r,totalPage:(y=o.data)==null?void 0:y.data.totalDocs,hasNextPage:($=(D=o.data)==null?void 0:D.data)==null?void 0:$.hasNextPage,hasPrevPage:(Y=o.data)==null?void 0:Y.data.hasPrevPage,setPage:S,setPerPage:k})})]})})}export{te as default};
